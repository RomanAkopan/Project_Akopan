#Дана строка, содержащая латинские буквы и скобки трех видов: «()», «[]», «{}». Если
#скобки расставлены правильно (то есть каждой открывающей соответствует
#закрывающая скобка того же вида), то вывести число 0. В противном случае вывести
#или номер позиции, в которой расположена первая ошибочная скобка, или, если
#закрывающих скобок не хватает, число —1.
def check_brackets(s):
    stack = []
    pairs = {')': '(', ']': '[', '}': '{'}

    for i, ch in enumerate(s):
        if ch in '([{':
            stack.append((ch, i + 1))
        elif ch in ')]}':
            if not stack:
                return i + 1
            last, pos = stack.pop()
            if pairs[ch] != last:
                return i + 1

    if stack:
        return -1

    return 0
